choice 

prompt "Role"

config ROLE_SLAVE
bool "Bootloader device"

config ROLE_UISP
bool "uISP USB dongle (master)"

endchoice

menu "Hardware config"
depends on ARCH_AVR

choice 
prompt "SPI Mode"

config AVR_SOFTSPI
bool "Use software SPI"

config AVR_HARDSPI
bool "Use hardware SPI"

endchoice

config CE_PIN
int "CE Pin"
default 0

config CE_PORT
string "CE Port"
default "D"

config CSN_PIN
int "CSN Pin"
default 0

config CSN_PORT
string "CSN Port"
default "D"

config SPI_PORT
string "SPI Port"
default "B"

config SPI_MOSI_PIN
int "SPI MOSI Pin"
default "3"

config SPI_MISO_PIN
int "SPI MISO Pin"
default "4"

config SPI_SCK_PIN
int "SPI SCK Pin"
default "5"

config SPI_SS_PIN
int "SPI SS Pin"
default "2"


endmenu

   config RF_CHANNEL
   int "RF Channel"
   default 76

   config RF_ADDR_0
   hex "RF Device Adress byte 0"
   range 0 0xff

   config RF_ADDR_1
   hex "RF Device Adress byte 1"
   range 0 0xff

   config RF_ADDR_2
   hex "RF Device Adress byte 2"
   range 0 0xff

   config RF_ADDR_3
   hex "RF Device Adress byte 3"
   range 0 0xff

   config RF_ADDR_4
   hex "RF Device Adress byte 4"
   range 0 0xff

 choice 
   prompt "RF Data rate"
 
   config RF_RATE_250KBPS
   bool "250KBPS"
  
   config RF_RATE_1MBPS
   bool "1MBPS"

   config RF_RATE_2MBPS
   bool "2MBPS"
 endchoice


if ROLE_SLAVE

   config SLAVE_ID
   string "Device Description"
   default "rfboot"
 
   menu "Memory partitions"

   config HAS_EEPROM_PART
   bool "AVR EEPROM"
   depends on ARCH_AVR

   config HAS_FLASH_PART	
   bool "AVR FLASH"		
   depends on ARCH_AVR
   
   endmenu
  
   choice 

   prompt "Bootloader leave condition"
   config BOOTCOND_FOREVER
   bool "Stay in bootloader until host instructs to boot"

   config BOOTCOND_TIMED
   bool "Stay in bootloader for a specified amount of time"

   endchoice

   if BOOTCOND_TIMED
   config BOOTCOND_TIMEOUT
   int "Timeout in ms"
   help
	If no commands are received for this time
	the bootloader will start user application
   endif	
   
endif

